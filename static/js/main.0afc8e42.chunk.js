(this["webpackJsonprest-api-countries"]=this["webpackJsonprest-api-countries"]||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(18),a=n.n(r),s=n(8),i=n(13),o=n(36),u=n(12),l=(n(54),n(11)),d=n(3),j=n(4),f=Object(j.a)(),h=n(38),b=n(37),m=(n(55),n(9)),p=n(1),O=function(e){return Object(p.jsx)("header",{className:"header",children:Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsx)(l.b,{to:"/",className:"header__logo",children:"Where in the world?"}),Object(p.jsx)("button",{onClick:function(){return e.setTheme(!e.theme)},className:"header__theme-switch",children:e.theme?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m.a,{icon:b.faMoon}),"Dark Mode"]}):e.theme?void 0:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m.a,{icon:h.faSun}),"Light Mode"]})})]})})},v=(n(62),n(41)),x=(n(63),n(17)),y=n.n(x),g=n(25),_=n(40),E=n.n(_).a.create({baseURL:"https://restcountries.com/v2"}),N="FETCH_COUNTRIES",w="FETCH_COUNTRY",R="SET_TERM",C="SELECT_REGION",T="SET_RENDERED",S="RESET_RENDERED",k=Object(s.b)((function(e){return{term:e.term}}),{setTerm:function(e){return{type:R,payload:e}}})((function(e){var t=e.term,n=e.setTerm;return Object(p.jsxs)("div",{className:"search-input",children:[Object(p.jsx)("label",{htmlFor:"input",children:Object(p.jsx)(m.a,{className:"icon",icon:v.faSearch})}),Object(p.jsx)("input",{autoComplete:"off",id:"input",onChange:function(e){return n(e.target.value)},placeholder:"Search for a country...",value:t,type:"text"})]})})),L=n(42),D=(n(84),[{name:"Filter by Region",value:""},{name:"Africa",value:"Africa"},{name:"America",value:"Americas"},{name:"Asia",value:"Asia"},{name:"Europe",value:"Europe"},{name:"Oceania",value:"Oceania"}]),A=Object(s.b)((function(e){return{selectedRegion:e.selectedRegion}}),{selectRegion:function(e){return{type:C,payload:e}},resetRendered:function(){return{type:S}}})((function(e){var t=e.selectedRegion,n=e.selectRegion,r=e.resetRendered,a=Object(c.useState)(!1),s=Object(u.a)(a,2),i=s[0],o=s[1],l=i?"active":"",d=Object(c.useRef)();Object(c.useEffect)((function(){var e=function(e){d.current.contains(e.target)||o(!1)};return n(D[0]),document.body.addEventListener("click",e,{capture:!0}),function(){document.body.removeEventListener("click",e,{capture:!0})}}),[n]);return Object(p.jsxs)("div",{tabIndex:"0",ref:d,onKeyPress:function(e){return"Enter"===e.key?o(!i):null},onClick:function(){return o(!i)},className:"dropdown ".concat(l),children:[Object(p.jsxs)("div",{className:"dropdown__text",children:[t.name,Object(p.jsx)(m.a,{className:"icon",icon:L.faAngleDown})]}),Object(p.jsx)("ul",{className:"dropdown__list",children:D.map((function(e,c){return e.value===t.value?null:Object(p.jsx)("li",{tabIndex:"0",onKeyPress:function(t){"Enter"===t.key&&(n(e),r())},onClick:function(){n(e),r()},className:"dropdown__item",children:e.name},c)}))})]})})),I=(n(85),n(43)),F=(n(86),function(){return Object(p.jsx)("div",{className:"loader__container",children:Object(p.jsx)(m.a,{icon:I.faCircleNotch,className:"loader"})})}),M=function(e){var t=e.data,n=Object(c.useState)(!1),r=Object(u.a)(n,2),a=r[0],s=r[1],i="".concat(t.population).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return Object(p.jsxs)("div",{className:"country-card",children:[Object(p.jsxs)(l.b,{tabIndex:"-1",to:"/details/".concat(t.alpha3Code),className:"country-card__flag",children:[a?null:Object(p.jsx)(F,{style:{width:"250px",height:"166px"}}),Object(p.jsx)("img",{onLoad:function(){return s(!a)},style:a?{}:{display:"none"},src:t.flag,alt:"".concat(t.name," flag")})]}),Object(p.jsxs)("div",{className:"country-card__informations",children:[Object(p.jsx)(l.b,{to:"/details/".concat(t.alpha3Code),className:"country-card__name",children:t.name}),Object(p.jsxs)("p",{className:"country-card__information",children:[Object(p.jsx)("span",{className:"country-card__prefix",children:"Population: "}),i]}),Object(p.jsxs)("p",{className:"country-card__information",children:[Object(p.jsx)("span",{className:"country-card__prefix",children:"Region: "}),t.region]}),Object(p.jsxs)("p",{className:"country-card__information",children:[Object(p.jsx)("span",{className:"country-card__prefix",children:"Capital: "}),t.capital]})]})]})},P=Object(s.b)((function(e){return{countries:Object.values(e.countries),term:e.term,selectedRegion:e.selectedRegion,rendered:e.rendered}}),{fetchCountries:function(){return function(){var e=Object(g.a)(y.a.mark((function e(t){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/all");case 2:return n=e.sent,c=n.data,e.abrupt("return",t({type:N,payload:c}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setRendered:function(e){return{type:T,payload:e}}})((function(e){var t=e.fetchCountries,n=e.setRendered,r=e.rendered,a=Object(c.useRef)();Object(c.useEffect)((function(){t()}),[t]),Object(c.useEffect)((function(){var e=function(){a.current&&window.scrollY+window.innerHeight>=a.current.offsetTop&&r<248&&n(19)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[r,n]);return Object(p.jsxs)("div",{className:"countries-list",children:[Object(p.jsxs)("div",{className:"countries-list__menu",children:[Object(p.jsx)(k,{}),Object(p.jsx)(A,{})]}),Object(p.jsx)("div",{className:"countries-list__content",children:function(){var t=e.countries,n=e.term,c=e.selectedRegion;if(!t.length)return Object(p.jsx)(F,{});var a=t;return c.value.length&&n.length?a=t.filter((function(e){return e.region===c.value&&e.name.toLowerCase().includes(n.toLowerCase())})):c.value.length?a=t.filter((function(e){return e.region===c.value})):n.length&&(a=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))),a.slice(0,r).map((function(e){return Object(p.jsx)(M,{data:e},e.numericCode)}))}()}),Object(p.jsx)("footer",{ref:a,style:{padding:"2em"}})]})})),U=Object(s.b)((function(e,t){return{countries:e.countries[t.match.params.id]}}),{fetchCountry:function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var c,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.get("/alpha/".concat(e));case 2:return c=t.sent,r=c.data,t.abrupt("return",n({type:w,payload:r}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.fetchCountry,n=e.match.params.id;return Object(c.useEffect)((function(){t(n)}),[t,n]),Object(p.jsx)("div",{children:"CountryDetails"})})),H=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){r(window.matchMedia("(prefers-color-scheme: light)").matches)}),[]);var a=n?"light-theme":"dark-theme";return Object(p.jsx)("div",{className:"container ".concat(a),children:Object(p.jsx)("div",{className:"wrapper",children:Object(p.jsxs)(l.a,{history:f,children:[Object(p.jsx)(O,{theme:n,setTheme:r}),Object(p.jsxs)(d.c,{children:[Object(p.jsx)(d.a,{path:"/",exact:!0,component:P}),Object(p.jsx)(d.a,{path:"/details/:id",exact:!0,component:U})]})]})})})},K=n(19),J=n(10),X=n(44),Y=n.n(X),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(J.a)(Object(J.a)({},e),{},Object(K.a)({},t.payload.alpha2Code,t.payload));case N:return Object(J.a)(Object(J.a)({},e),Y.a.mapKeys(t.payload,"alpha2Code"));default:return e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===R?t.payload:e},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===C?t.payload:e},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return e+t.payload;case S:return 20;default:return e}},$=Object(i.b)({countries:B,term:G,selectedRegion:V,rendered:W}),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,z=Object(i.d)($,q(Object(i.a)(o.a)));a.a.render(Object(p.jsx)(s.a,{store:z,children:Object(p.jsx)(H,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.0afc8e42.chunk.js.map